<html>
  <head>
    <meta charset="utf-8" />
    <title>iGEM Tec-Monterrey / Project</title>

    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="css/bootstrap_overwrite.css" type="text/css" />
    <link rel="stylesheet" href="css/template.css" type="text/css" />
    <link rel="stylesheet" href="css/header.css" type="text/css" />
    <link rel="stylesheet" href="css/footer.css" type="text/css" />
    <link rel="stylesheet" href="css/placeholder.css" type="text/css" />

    <link
      href="https://fonts.googleapis.com/css?family=Lato&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Manjari&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Anton&display=swap"
      rel="stylesheet"
    />

    <script
      language="JavaScript"
      type="text/javascript"
      src="js/jquery-3.4.1.min.js"
    ></script>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body class="green">
    <header id="desktop-menu">
      <div id="header-content-container">
        <div id="logo-container">
          <img src="img/logos/logo_BREATHE_white_plain.png" class="main-logo" />
        </div>
        <span class="filler"></span>
        <div id="team-dropdown" class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            TEAM
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Members</a>
            <a class="dropdown-item" href="#">Attributions</a>
            <a class="dropdown-item" href="#">Collabs</a>
            <a class="dropdown-item" href="#">Sponsors</a>
            <a class="dropdown-item" href="#">Gallery</a>
          </div>
        </div>
        <div id="project-dropdown" class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            PROJECT
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Description</a>
            <a class="dropdown-item" href="#">Design</a>
            <a class="dropdown-item" href="#">Notebook & Protocols</a>
            <a class="dropdown-item" href="#">Experiments</a>
            <a class="dropdown-item" href="#">Demonstrate</a>
            <a class="dropdown-item" href="#">Model</a>
            <a class="dropdown-item" href="#">Safety</a>
          </div>
        </div>
        <div id="parts-dropdown" class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            PARTS
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Parts Overview</a>
            <a class="dropdown-item" href="#">Basic Parts</a>
            <a class="dropdown-item" href="#">Improved Parts</a>
            <a class="dropdown-item" href="#">Composite Parts</a>
            <a class="dropdown-item" href="#">Part Collection</a>
          </div>
        </div>
        <div id="human-dropdown" class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            HUMAN
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Human Practices</a>
            <a class="dropdown-item" href="#">Integrated human</a>
            <a class="dropdown-item" href="#">Public Engagement</a>
            <a class="dropdown-item" href="#">LATAM Meetup</a>
          </div>
        </div>
        <div id="contact-dropdown" class="dropdown">
          <button class="btn btn-secondary" type="button">
            CONTACT
          </button>
        </div>
      </div>
    </header>

    <header id="mobile-menu">
      <!--Navbar-->
      <nav class="navbar navbar-light light-blue lighten-4">
        <!-- Navbar brand -->
        <a class="navbar-brand" href="#">
          <img src="img/logos/logo_BREATHE_white_plain.png" class="main-logo" />
          <span id="mobile-title">BREATHE-IN</span>
        </a>

        <!-- Collapse button -->
        <button
          class="navbar-toggler toggler-example"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent1"
          aria-controls="navbarSupportedContent1"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="text-white"><i class="material-icons"> menu </i></span>
        </button>

        <!-- Collapsible content -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent1">
          <!-- Links -->
          <div id="team-dropdown" class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="dropdownMenuButton"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              TEAM
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Members</a>
              <a class="dropdown-item" href="#">Attributions</a>
              <a class="dropdown-item" href="#">Collabs</a>
              <a class="dropdown-item" href="#">Sponsors</a>
              <a class="dropdown-item" href="#">Gallery</a>
            </div>
          </div>
          <div id="project-dropdown" class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="dropdownMenuButton"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              PROJECT
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Description</a>
              <a class="dropdown-item" href="#">Design</a>
              <a class="dropdown-item" href="#">Notebook & Protocols</a>
              <a class="dropdown-item" href="#">Experiments</a>
              <a class="dropdown-item" href="#">Demonstrate</a>
              <a class="dropdown-item" href="#">Model</a>
              <a class="dropdown-item" href="#">Safety</a>
            </div>
          </div>
          <div id="parts-dropdown" class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="dropdownMenuButton"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              PARTS
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Parts Overview</a>
              <a class="dropdown-item" href="#">Basic Parts</a>
              <a class="dropdown-item" href="#">Improved Parts</a>
              <a class="dropdown-item" href="#">Composite Parts</a>
              <a class="dropdown-item" href="#">Part Collection</a>
            </div>
          </div>
          <div id="human-dropdown" class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="dropdownMenuButton"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              HUMAN
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Human Practices</a>
              <a class="dropdown-item" href="#">Integrated human</a>
              <a class="dropdown-item" href="#">Public Engagement</a>
              <a class="dropdown-item" href="#">LATAM Meetup</a>
            </div>
          </div>
          <div id="contact-dropdown" class="dropdown">
            <button class="btn btn-secondary" type="button">
              CONTACT
            </button>
          </div>
          <!-- Links -->
        </div>
        <!-- Collapsible content -->
      </nav>
      <!--/.Navbar-->
    </header>

    <!------- PARA AGREGAR A LA WIKI VAMOS A COPIAR Y PEGAR DESDE AQUÍ ------->

    <div class="portrait-container container-fluid" data-height="420">
      <h2 class="section-title">PARTS</h2>
      <img
        src="img/portrait/model5.jpg"
        class="portrait-photo"
        style="opacity: 0.35"
      />
    </div>

    <footer id="sponsorships-container">
      <img src="img/sponsors/idt.png" class="sponsorship-img" />
      <img src="img/sponsors/twist.png" class="sponsorship-img" />
      <img src="img/sponsors/ctr.png" class="sponsorship-img" />
      <img src="img/sponsors/accesolab.png" class="sponsorship-img" />
      <img src="img/sponsors/neb.png" class="sponsorship-img" />
      <img src="img/sponsors/dibico.png" class="sponsorship-img" />
    </footer>

    <script src="https://2019.igem.org/Template:Tec-Monterrey/popper?action=raw&ctype=text/javascript"></script>
    <script src="https://2019.igem.org/Template:Tec-Monterrey/bootstrapJSmin?action=raw&ctype=text/javascript"></script>

    <script>
      var headerHeight = $("header").height();
      var portraitHeight = $(".portrait-container").data("height");
      var pageColor = "var(--iGEM-dark-blue)";
      var scrollHeights = [];
      $(window).on("load", function() {
        checkPortraitHeight();
        checkHeaderColor();
        $(".portrait-container").height(
          Math.min(window.screen.width, portraitHeight)
        );
        createScrollHeights();
        createIndex();
        // var positionAdjust = ($(window).width() - portraitHeight)/2;
        // $(".portrait-photo").css("object-position", "0px -" + positionAdjust + "px");
      });
      $(window).scroll(function() {
        $(".navbar-collapse").removeClass("show");
        checkPortraitHeight();
        checkHeaderColor();
        checkIndexMenu();
      });
      $(".main-content").click(function() {
        $(".navbar-collapse").removeClass("show");
      });
      $(".portrait-photo").click(function() {
        $(".navbar-collapse").removeClass("show");
      });
      function createScrollHeights() {
        scrollHeights.push(portraitHeight);
        if (window.screen.width < 768) {
          scrollHeights[0] += $("aside").height() + 96;
        }
        $("article").each(function() {
          scrollHeights[scrollHeights.length - 1];
          scrollHeights.push(
            scrollHeights[scrollHeights.length - 1] +
              $(this).height() +
              parseInt($(this).css("margin-top"))
          );
        });
        console.log(scrollHeights);
      }
      function createIndex() {
        const indexMenu = $(".index-menu");
        $("article").each(function(i) {
          indexMenu.append(`
            <ul class="index-section" onclick="window.scrollTo(0, ${scrollHeights[
              i
            ] + 4});">
              <a>
                ${$(this)
                  .find(".subsection-title")
                  .text()}
              </a>
            </ul>
          `);
        });
      }
      /* MAINTAIN PORTRAIG IMAGE SET */
      function checkPortraitHeight() {
        var height = Math.min(window.screen.width, portraitHeight);
        var newHeight = height - $(document).scrollTop();
        $(".portrait-photo").height(newHeight);
      }
      function checkHeaderColor() {
        var opacity = $(document).scrollTop() / (portraitHeight - headerHeight);
        $("header").css("background-color", `rgba(46, 80, 119, ${opacity})`);
      }
      function checkIndexMenu() {
        var elements = document.getElementsByClassName("index-section");
        for (var i = 0; i < elements.length; i++) {
          e = elements[i];
          var h = $(document).scrollTop();
          if (h >= scrollHeights[i] && h < scrollHeights[i + 1]) {
            e.className = "index-section current-index";
          } else if (h > scrollHeights[i + 1]) {
            e.className = "index-section visited-index";
          } else if (h < scrollHeights[i]) {
            e.className = "index-section not-visited-index";
          } else if (i + 1 == elements.length) {
            e.className = "index-section current-index";
          }
        }
      }
    </script>
  </body>
</html>
